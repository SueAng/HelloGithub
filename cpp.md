# 8 函数探幽
## 8.1 c++内联函数
C++为提高程序的运行速度所做的一项改进。

代码最终会被编译为可执行程序，运行程序时，操作系统会将这些编译后生成的机器语言指令载入到计算机内存中。在程序运行到函数时，需要记下当前指令的地址，同时把函数参数复制到堆栈，再跳到标记函数七点的内存单元。来回在主程序与函数间跳跃需要一定的开销。

内联函数的编译代码被内置在调用它的主体函数中了，编译时编译器将使用相应的函数代码替换函数调用，也就是说它被编译在了内部。这使得它的运行速度稍快，但是比较耗内存。因为重复调用的话意味着重复编译。

要使用内联，必须采取下列措施之一  
> + 在函数声明之前加inline  
> + 在函数定义之前加inline      

通常的做法是省略原型，将整个定义放在本应该提供原型的地方。内联函数的使用是有限制的，编译器可能认为函数过大或者使用了递归而不能将其作为内联函数，但并不是所有的编译器都有这种特性。

> inline 是C++新增的特性。C语言使用 #define 来提供宏——内联代码的原始实现。
> inline 按值来传递参数，宏通过文本替换来实现。  

# 8.2 引用变量
C++新增了一种复合类型——引用变量。引用是已经定义的变量的别名。引用变量的主要用途是用作函数的形参。通过引用变量用作参数，函数将能直接使用原始的数据，而不是它的副本。
## 8.2.1创建引用变量
**&** 除了用来指示变量地址外，还可以用来声明引用。  
``` c++
int rats;
int & rodents = rats
```  
**int &** 指的是指向 **int** 的引用，引用与被引用变量指向相同的值和内存单元。
